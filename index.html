<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>BMB Weekly Crossword</title>
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main>
<div class="status-bar">
  <div id="timer" class="timer" style="display:none">00:00</div>
  <img src="images/bmb-gsa-logo.png" alt="BMB-GSA logo" class="gsa-logo">
</div>


    <h1 id="title">BMB Weekly Crossword</h1>

    <section id="overlay" class="overlay">
      <div class="card">
        <h2>Enter your details to begin</h2>
        <input id="f-name" placeholder="Full name" />
        <input id="f-student" placeholder="Student number" />
        <input id="f-email" placeholder="Email" />
        <input id="f-lab" placeholder="Lab" />
        <button id="btn-begin">Begin and Start Timer</button>
        <p class="overlay-note">If given 'LOAD failed', click 'Start' again</p>
        <div id="overlayMsg" class="msg"></div>
      </div>
    </section>
    
    <!-- Puzzle area -->
  <section id="play" class ="play">
    <section id="puzzle">
      <div id="grid-wrap"><div id="grid"></div></div>

      <div class="current-clue" id="current-clue"></div>

      <div id="softkeys" class="softkeys" aria-label="Crossword keyboard">
        <div class="row letters"></div>
        <div class="row controls">
          <button type="button" id="key-back">⌫</button>
        </div>
      </div>
      
      <div class="controls">
        <button id="pause" type="button">Pause</button>
        <button id="toggle">Across / Down</button>
        <button id="next-word">Next Clue</button>
        <button id="submit" disabled>Submit</button>
      </div>
      <div id="result"></div>
    </section>

    <aside class="cluewrap">
      <div class="desktop-tips" aria-label="Keyboard shortcuts">
        <h3>Keyboard shortcuts</h3>
        <ul>
          <li><strong>CURSOR</strong> — Square selection</li>
          <li><strong>SPACE BAR</strong> — Toggle Across/Down</li>
          <li><strong>ARROWS</strong> — Navigate squares</li>
          <li><strong>BACKSPACE</strong> — Delete letter + go backwards</li>
          <li>Completion of word automatically moves to next word</li>
        </ul>
      </div>
    </aside>
  </section>
  </main>

  <script>
    // Accept ?p=2025-W44, ?puzzle=..., or ?puzzles=...
    const params = new URLSearchParams(location.search);
    const urlPuzzle = params.get("p") || params.get("puzzle") || params.get("puzzles");
    window.CONFIG = {
      weekId: urlPuzzle || "2026-W2",   // must match your JSON filename
      api: "https://script.google.com/macros/s/AKfycbyXNVQkQUynZGYNpWIABC4scaquOPbBaS6WS-0C_T-7mM31DipVnlUgJFxMLhroX-o/exec"
    };
  </script>
  <script src="app.js"></script>
</body>
</html>
